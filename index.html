<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Magic Tiles Lite ‚Äî Hard Mode + Music (v11)</title>
  <style>
    :root{--tile-top:#4facfe;--tile-bottom:#00f2fe;--bg-1:#0f0c29;--bg-2:#302b63;--bg-3:#24243e;}
    html,body{margin:0;padding:0;height:100%;overflow:hidden;font-family:"Segoe UI",Tahoma,Geneva,Verdana,sans-serif;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,var(--bg-1),var(--bg-2),var(--bg-3));background-size:400% 400%;animation:bgShift 20s ease-in-out infinite;}
    @keyframes bgShift{0%{background-position:0 50%}50%{background-position:100% 50%}100%{background-position:0 50%}}
    body.celebrate{animation:bgHue 8s linear infinite;}
    @keyframes bgHue{0%{filter:hue-rotate(0deg)}100%{filter:hue-rotate(360deg)}}

    #score{position:absolute;top:16px;left:50%;transform:translateX(-50%);padding:6px 24px;font-size:26px;color:#fff;background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.18);border-radius:999px;backdrop-filter:blur(8px);box-shadow:0 4px 12px rgba(0,0,0,.35);z-index:20;user-select:none;}
    #audioBtn{position:absolute;top:16px;right:16px;z-index:25;background:rgba(255,255,255,.15);border:none;border-radius:50%;padding:8px 10px;font-size:18px;color:#fff;cursor:pointer;backdrop-filter:blur(6px);}
    #progressContainer{position:absolute;top:64px;left:50%;transform:translateX(-50%);width:320px;height:12px;border-radius:6px;overflow:hidden;background:rgba(255,255,255,.15);border:1px solid rgba(255,255,255,.25);backdrop-filter:blur(8px);box-shadow:0 2px 6px rgba(0,0,0,.3);z-index:15;}
    #progressBar{height:100%;width:0%;background:linear-gradient(90deg,#12c2e9 0%,#c471ed 50%,#f64f59 100%);transition:width .2s ease-out;}
    #star{position:absolute;right:-18px;top:-10px;font-size:28px;opacity:.85;pointer-events:none;z-index:25;transition:transform .6s ease,filter .6s ease;}
    #star.shine{filter:drop-shadow(0 0 6px #fff) drop-shadow(0 0 12px #ff0);transform:scale(1.3) rotate(15deg);}  

    #gameCanvas{width:400px;height:600px;border-radius:20px;background:#111;box-shadow:0 20px 40px rgba(0,0,0,.6),inset 0 0 40px rgba(0,0,0,.8);touch-action:none;display:block;cursor:pointer;}
    .lane-sep{position:absolute;width:2px;height:600px;pointer-events:none;top:calc(50% - 300px);background:linear-gradient(to bottom,transparent 0%,rgba(255,255,255,.07) 50%,transparent 100%);z-index:2;}

    #overlay{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;font-size:24px;text-align:center;backdrop-filter:blur(4px);user-select:none;pointer-events:none;z-index:30;}
  </style>
</head>
<body>
  <!-- Local MP3 hosted in your GitHub repo -->
  <audio id="bgm" src="https://raw.githubusercontent.com/anycircle11139s/Magictilesgooglesites/main/hip-hop-urban.mp3" preload="auto"></audio>

  <!-- HUD -->
  <div id="score">Score 0</div>
  <button id="audioBtn" title="Toggle music">üîä</button>
  <div id="progressContainer"><div id="progressBar"></div><div id="star">‚≠ê</div></div>

  <!-- Play area -->
  <canvas id="gameCanvas" width="400" height="600"></canvas>
  <div class="lane-sep" style="left:calc(50% - 100px);"></div>
  <div class="lane-sep" style="left:calc(50%);"></div>
  <div class="lane-sep" style="left:calc(50% + 100px);"></div>

  <div id="overlay">Tap anywhere or press any key<br/>to start</div>

  <!-- (The rest of your script stays exactly the same) -->
  <!-- ... -->
</body>
</html>
